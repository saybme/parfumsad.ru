<div class="space-y-2">
    {% for key, item in cart.products %}
        <div class="flex py-4 gap-3 border-b" product-id="{{ key }}"> 
            <div class="size-[80px] lg:size-[140px] xl:size-[230px] bg-gray-50 rounded-lg overflow-hidden flex-none">
                <img src="{{ item.image | resize(120,false,{mode:'crop'}) }}" alt="{{ item.name }}" class="size-full object-contain">
            </div>
            <div class="flex-1 flex items-center">                   
                <div class="flex-1">
                    <h3 class="text-sm lg:text-base xl:text-lg font-normal mb-2">{{ item.name }}</h3>    
                    <div class="flex">
                        <div class="text-lg lg:text-26px flex items-center leading-none me-3">
                            <span class="font-semibold">{{ item.price | number_format(2, ',', ' ') }}</span>
                            <span class="icon-before icon-chevron-right"></span>
                        </div>
                    </div>
                </div>                   
                <div class="flex-1 flex justify-start lg:justify-center pl-4">
                    <form action="" data-request="onCount">
                        <input type="hidden" name="id" value="{{ key }}">
                        <div class="flex items-center gap-x-2" x-data="{ count: '{{ item.amount }}' }">
                            <button x-on:click="count--;if(count <= 0){count = 1}; return false;"><svg width="14" height="2" viewBox="0 0 14 2" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.125 1.75H0.875C0.391754 1.75 0 1.35825 0 0.875C0 0.391754 0.391754 0 0.875 0H13.125C13.6082 0 14 0.391754 14 0.875C14 1.35825 13.6082 1.75 13.125 1.75Z" fill="#8D47F6"/></svg></button>
                            <input type="number" x-model="count" name="count" value="{{ item.amount }}" class="w-[60px] lg:w-[100px] h-[40px] lg:h-[60px] text-center border rounded-lg border-purple-1">
                            <button x-on:click="count++; return false;"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.125 6.125H7.875V0.875C7.875 0.391754 7.48325 0 7 0C6.51675 0 6.125 0.391754 6.125 0.875V6.125H0.875C0.391754 6.125 0 6.51675 0 7C0 7.48325 0.391754 7.875 0.875 7.875H6.125V13.125C6.125 13.6082 6.51675 14 7 14C7.48325 14 7.875 13.6082 7.875 13.125V7.875H13.125C13.6082 7.875 14 7.48325 14 7C14 6.51675 13.6082 6.125 13.125 6.125Z" fill="#8D47F6"/></svg></button>
                        </div>
                    </form>
                </div>
                <div class="flex items-center">                          
                    <span class="text-xl/none lg:text-3xl/none font-bold product-sum">{{ item.sum | number_format(2, ',', ' ') }}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="size-5 lg:size-7 block translate-y-[1px] relative" fill="currentColor" viewBox="0 0 256 256"><path d="M148,156a64,64,0,0,0,0-128H88A12,12,0,0,0,76,40v92H56a12,12,0,0,0,0,24H76v16H56a12,12,0,0,0,0,24H76v20a12,12,0,0,0,24,0V196h44a12,12,0,0,0,0-24H100V156ZM100,52h48a40,40,0,0,1,0,80H100Z"></path></svg>
                </div>
                <div class="lg:w-[124px] flex-none flex justify-end pl-2">
                    <form action="" data-request="onDelete">
                        <input type="hidden" name="id" value="{{ key }}">
                        <button class="hover:text-rose text-gray-500 tooltip" data-tip="Удалить товар">
                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.23719 6.99999L13.7436 1.49413C14.0855 1.15232 14.0855 0.598141 13.7436 0.256358C13.4018 -0.0854526 12.8477 -0.0854526 12.5059 0.256358L6.99999 5.76279L1.49413 0.256358C1.15232 -0.0854526 0.598141 -0.0854526 0.256358 0.256358C-0.0854253 0.598168 -0.0854526 1.15235 0.256358 1.49413L5.76279 6.99999L0.256358 12.5059C-0.0854526 12.8477 -0.0854526 13.4019 0.256358 13.7436C0.598168 14.0854 1.15235 14.0855 1.49413 13.7436L6.99999 8.23719L12.5058 13.7436C12.8477 14.0855 13.4018 14.0855 13.7436 13.7436C14.0854 13.4018 14.0854 12.8477 13.7436 12.5059L8.23719 6.99999Z" fill="#374957"/>
                            </svg>                                        
                        </button>
                    </form>
                </div>
            </div>  
        </div>
    {% endfor %}
</div>